imports:
  root: __package__.yml
service:
  auth: false
  base-path: ''
  endpoints:
    verifyEmail:
      path: /tickets/email-verification
      method: POST
      auth: true
      docs: >
        Create an email verification ticket for a given user. An email
        verification ticket is a generated URL that the user can consume to
        verify their email address.
      source:
        openapi: ../api.json
      display-name: Create an email verification ticket
      request:
        name: VerifyEmailTicketRequestContent
        body:
          properties:
            result_url:
              type: optional<string>
              docs: >-
                URL the user will be redirected to in the classic Universal
                Login experience once the ticket is used.
              default: http://myapp.com/callback
            user_id:
              type: string
              docs: user_id of for whom the ticket should be created.
            client_id:
              type: optional<string>
              docs: >-
                ID of the client (application). If provided for tenants using
                the New Universal Login experience, the email template and UI
                displays application details, and the user is prompted to
                redirect to the application's <a target=''
                href='https://auth0.com/docs/authenticate/login/auth0-universal-login/configure-default-login-routes#completing-the-password-reset-flow'>default
                login route</a> after the ticket is used. client_id is required
                to use the <a target=''
                href='https://auth0.com/docs/customize/actions/flows-and-triggers/post-change-password-flow'>Password
                Reset Post Challenge</a> trigger.
              default: DaM8bokEXBWrTUFCiJjWn50jei6ardyX
            organization_id:
              type: optional<string>
              docs: >-
                (Optional) Organization ID – the ID of the Organization. If
                provided, organization parameters will be made available to the
                email template and organization branding will be applied to the
                prompt. In addition, the redirect link in the prompt will
                include organization_id and organization_name query string
                parameters.
              default: org_2eondWoxcMIpaLQc
            ttl_sec:
              type: optional<integer>
              docs: >-
                Number of seconds for which the ticket is valid before
                expiration. If unspecified or set to 0, this value defaults to
                432000 seconds (5 days).
            includeEmailInRedirect:
              type: optional<boolean>
              docs: >-
                Whether to include the email address as part of the returnUrl in
                the reset_email (true), or not (false).
            identity: optional<root.Identity>
        content-type: application/json
      response:
        docs: Ticket successfully created.
        type: root.VerifyEmailTicketResponseContent
        status-code: 201
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.TooManyRequestsError
      examples:
        - request:
            user_id: user_id
          response:
            body:
              ticket: ticket
    changePassword:
      path: /tickets/password-change
      method: POST
      auth: true
      docs: >
        Create a password change ticket for a given user. A password change
        ticket is a generated URL that the user can consume to start a reset
        password flow.


        Note: This endpoint does not verify the given user’s identity. If you
        call this endpoint within your application, you must design your
        application to verify the user’s identity.
      source:
        openapi: ../api.json
      display-name: Create a password change ticket
      request:
        name: ChangePasswordTicketRequestContent
        body:
          properties:
            result_url:
              type: optional<string>
              docs: >-
                URL the user will be redirected to in the classic Universal
                Login experience once the ticket is used.
              default: http://myapp.com/callback
            user_id:
              type: optional<string>
              docs: user_id of for whom the ticket should be created.
            client_id:
              type: optional<string>
              docs: >-
                ID of the client (application). If provided for tenants using
                the New Universal Login experience, the email template and UI
                displays application details, and the user is prompted to
                redirect to the application's <a target=''
                href='https://auth0.com/docs/authenticate/login/auth0-universal-login/configure-default-login-routes#completing-the-password-reset-flow'>default
                login route</a> after the ticket is used. client_id is required
                to use the <a target=''
                href='https://auth0.com/docs/customize/actions/flows-and-triggers/post-change-password-flow'>Password
                Reset Post Challenge</a> trigger.
              default: DaM8bokEXBWrTUFCiJjWn50jei6ardyX
            organization_id:
              type: optional<string>
              docs: >-
                (Optional) Organization ID – the ID of the Organization. If
                provided, organization parameters will be made available to the
                email template and organization branding will be applied to the
                prompt. In addition, the redirect link in the prompt will
                include organization_id and organization_name query string
                parameters.
              default: org_2eondWoxcMIpaLQc
            connection_id:
              type: optional<string>
              docs: >-
                ID of the connection. If provided, allows the user to be
                specified using email instead of user_id. If you set this value,
                you must also send the email parameter. You cannot send user_id
                when specifying a connection_id.
              default: con_0000000000000001
            email:
              type: optional<string>
              docs: >-
                Email address of the user for whom the tickets should be
                created. Requires the connection_id parameter. Cannot be
                specified when using user_id.
              validation:
                format: email
            ttl_sec:
              type: optional<integer>
              docs: >-
                Number of seconds for which the ticket is valid before
                expiration. If unspecified or set to 0, this value defaults to
                432000 seconds (5 days).
            mark_email_as_verified:
              type: optional<boolean>
              docs: >-
                Whether to set the email_verified attribute to true (true) or
                whether it should not be updated (false).
              default: false
            includeEmailInRedirect:
              type: optional<boolean>
              docs: >-
                Whether to include the email address as part of the returnUrl in
                the reset_email (true), or not (false).
            identity: optional<root.Identity>
        content-type: application/json
      response:
        docs: Ticket successfully created.
        type: root.ChangePasswordTicketResponseContent
        status-code: 201
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.TooManyRequestsError
      examples:
        - request: {}
          response:
            body:
              ticket: ticket
  source:
    openapi: ../api.json
